{"ast":null,"code":"import _slicedToArray from\"/Users/pranshujain/Desktop/GrowthGram/frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import\"../styles/SignIn.css\";import logo from\"../img/logo.png\";import{Link,useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{LoginContext}from\"./App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){var _useContext=useContext(LoginContext),setisauth=_useContext.setisauth;var navigate=useNavigate();var errtoast=function errtoast(msg){toast.error(msg);};var successtoast=function successtoast(msg){toast.success(msg);};var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setemail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setpassword=_useState4[1];var postData=function postData(){console.log({email:email,password:password});fetch(\"http://localhost:5000/create-session\",{method:\"post\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"cookie\")},body:JSON.stringify({email:email,password:password})}).then(function(res){return res.json();}).then(function(data){if(data.error){errtoast(data.error);navigate(\"/signup\");}else{successtoast(\"Signed In Successfully\");console.log(data,\"show \");localStorage.setItem(\"cookie\",data.localstore);localStorage.setItem(\"user\",JSON.stringify(data.user));setisauth(true);navigate(\"/\");}console.log(data);});};return/*#__PURE__*/_jsx(\"div\",{className:\"signin\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"signInLogo\",src:logo,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",value:email,onChange:function onChange(e){setemail(e.target.value);},placeholder:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){setpassword(e.target.value);}})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",id:\"login-btn\"// onClick={() => {\n//   postdata;\n// }}\n,onClick:function onClick(){postData();},value:\"Sign In\"}),/*#__PURE__*/_jsx(\"hr\",{style:{width:\"90%\",margin:\"25px auto\",border:\"1px solid rgb(213, 255, 64)\",opacity:\"0.8\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginForm2\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/signUp\",children:/*#__PURE__*/_jsx(\"span\",{style:{color:\"blue\",cursor:\"pointer\"},children:\"Sign Up\"})})]})]})})});}","map":{"version":3,"names":["React","useState","useContext","logo","Link","useNavigate","toast","LoginContext","jsx","_jsx","jsxs","_jsxs","SignIn","_useContext","setisauth","navigate","errtoast","msg","error","successtoast","success","_useState","_useState2","_slicedToArray","email","setemail","_useState3","_useState4","password","setpassword","postData","console","log","fetch","method","headers","localStorage","getItem","body","JSON","stringify","then","res","json","data","setItem","localstore","user","className","children","src","alt","type","name","id","value","onChange","e","target","placeholder","onClick","style","width","margin","border","opacity","to","color","cursor"],"sources":["/Users/pranshujain/Desktop/GrowthGram/frontend/client/src/components/SignIn.js"],"sourcesContent":["import React, { useState , useContext  } from \"react\";\nimport \"../styles/SignIn.css\";\nimport logo from \"../img/logo.png\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {LoginContext} from \"./App\"\n\n\nexport default function SignIn() {\n  const {setisauth} = useContext(LoginContext)\n  const navigate=useNavigate();\n  const errtoast=(msg)=>{\n    toast.error(msg);\n  }\n  const successtoast=(msg)=>{\n    toast.success(msg);\n  }\n  const [email, setemail] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const postData = () => {\n    console.log({email, password});\n    fetch(\"http://localhost:5000/create-session\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"cookie\"),\n      },\n      body: JSON.stringify({\n        email:email,\n        password:password\n      })\n    }).then((res)=>res.json())\n    .then((data)=>{\n      if (data.error){\n        errtoast(data.error);\n        navigate(\"/signup\");\n      }\n        else {\n          successtoast(\"Signed In Successfully\")\n          console.log(data,\"show \");\n          localStorage.setItem(\"cookie\", data.localstore);\n          localStorage.setItem(\"user\", JSON.stringify( data.user));\n          setisauth(true)\n          navigate(\"/\");\n        }\n      console.log(data);\n    })\n  };\n  return (\n    <div className=\"signin\">\n      <div>\n        <div className=\"loginForm\">\n          <img className=\"signInLogo\" src={logo} alt=\"\" />\n          <div>\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              value={email}\n              onChange={(e) => {\n                setemail(e.target.value);\n              }}\n              placeholder=\"Email\"\n            />\n          </div>\n          <div>\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => {\n                setpassword(e.target.value);\n              }}\n            />\n          </div>\n\n          <input\n            type=\"submit\"\n            id=\"login-btn\"\n            // onClick={() => {\n            //   postdata;\n            // }}\n            onClick={() => {\n              postData();\n            }}\n            value=\"Sign In\"\n          />\n          <hr\n            style={{\n              width: \"90%\",\n              margin: \"25px auto\",\n              border: \"1px solid rgb(213, 255, 64)\",\n              opacity: \"0.8\",\n            }}\n          />\n          <div className=\"loginForm2\">\n            Don't have an account?{\" \"}\n            <Link to=\"/signUp\">\n              <span style={{ color: \"blue\", cursor: \"pointer\" }}>Sign Up</span>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}